## Test 04: Correct Nonces [3 pts]

Verifies program solutions against known-correct nonces

```

serial=$(./miner 1 20 'Speed Test' \
    | grep -o '[0-9]* hashes in [0-9]*\.[0-9]*s' \
    | sed 's:.* \([0-9]*\.[0-9]*\)s:\1:g')
miner.c:274:main(): Starting prod loop 0
miner.c:278:main(): buffer: 0  global_nonce: 0
miner.c:292:main(): Didnt get stuck
miner.c:302:main(): buffer: 1
miner.c:274:main(): Starting prod loop 100000
miner.c:278:main(): buffer: 1  global_nonce: 0
miner.c:80:consumer_thread(): start: 1 buffer: 0 rank:0
miner.c:115:consumer_thread(): valid nonce
miner.c:287:main(): Post wait 0
miner.c:292:main(): Didnt get stuck
miner.c:295:main(): breaking prod loop
miner.c:311:main(): Trying to join 0

echo "Serial run: ${serial}"
Serial run: 5.01

speed=$(./miner 2 20 'Speed Test' \
    | grep -o '[0-9]* hashes in [0-9]*\.[0-9]*s' \
    | sed 's:.* \([0-9]*\.[0-9]*\)s:\1:g')
miner.c:274:main(): Starting prod loop 0
miner.c:278:main(): buffer: 0  global_nonce: 0
miner.c:292:main(): Didnt get stuck
miner.c:302:main(): buffer: 1
miner.c:274:main(): Starting prod loop 100000
miner.c:278:main(): buffer: 1  global_nonce: 0
miner.c:80:consumer_thread(): start: 100001 buffer: 1 rank:1
miner.c:80:consumer_thread(): start: 1 buffer: 0 rank:0
miner.c:115:consumer_thread(): valid nonce
miner.c:287:main(): Post wait 0
miner.c:292:main(): Didnt get stuck
miner.c:295:main(): breaking prod loop
miner.c:311:main(): Trying to join 0
miner.c:311:main(): Trying to join 1
miner.c:115:consumer_thread(): valid nonce

echo "Speed run: ${speed}"
Speed run: 5.70

# Ensure speedup is at least 1.6:
echo "${serial} ${speed}" \
    | awk '
{
    speedup=( $1 / $2 )
    printf "Speedup is: %f\n", speedup
    if (speedup > 1.6) {
        exit 0
    } else { 
        exit 1
    }
}'
Speedup is: 0.878947

test_end
 --> Test failed (1)
```

